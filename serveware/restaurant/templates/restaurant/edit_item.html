{% extends "base.html" %}
{% block navigation %}{% endblock %}
{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10 col-sm-12">

            <!-- Form Container -->
            <div class="card shadow">
                <!-- Page Header -->
                <h2 class="text-center mb-4 mt-2" style="color: #4e4b7c;">Edit Menu Item</h2>
                <h4 class="text-center mb-5" style="color: #4e4b7c;">{{ item.name }}</h4>
                <div class="card-body">
                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}

                        <!-- Name Field -->
                        <div class="mb-3">
                            <label for="id_name" class="form-label" style="color: #4e4b7c;">Name</label>
                            <input type="text" id="id_name" name="name" value="{{ form.name.value }}" class="form-control">
                        </div>

                        <!-- Description Field -->
                        <div class="mb-3">
                            <label for="id_description" class="form-label" style="color: #4e4b7c;">Description</label>
                            <textarea id="id_description" name="description" class="form-control">{{ form.description.value }}</textarea>
                        </div>

                        <!-- Price Field -->
                        <div class="mb-3">
                            <label for="id_price" class="form-label" style="color: #4e4b7c;">Price</label>
                            <input type="number" id="id_price" name="price" value="{{ form.price.value }}" class="form-control">
                        </div>

                        <!-- Image Field -->
                        <div class="mb-3">
                            <label for="id_image" class="form-label" style="color: #4e4b7c;">Image</label>
                            <input type="file" id="id_image" name="image" class="form-control">
                            {% if item.image %}
                                <img src="{{ item.image.url }}" alt="{{ item.name }}" class="img-thumbnail mt-3" style="max-height: 250px;">
                            {% endif %}
                        </div>

                        <!-- Category Dropdown -->
                        <div class="mb-3">
                            <label for="id_category" class="form-label" style="color: #4e4b7c;">Category</label>
                            <select id="id_category" name="category" class="form-select">
                                {% for value, label in form.category.field.choices %}
                                    <option value="{{ value }}" {% if form.category.value == value %}selected{% endif %}>{{ label }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        
                        <!-- Boolean Toggles -->
                        <div class="mb-3">
                            <label class="form-label" style="color: #4e4b7c;">Options</label>
                        </div>

                        <div class="row">
                            <div class="col-12 col-md-6 col-lg-4 mb-3">
                                <div class="form-check form-switch">
                                    <input type="checkbox" id="id_is_spicy" name="is_spicy" class="form-check-input" {% if form.is_spicy.value %}checked{% endif %}>
                                    <label for="id_is_spicy" class="form-check-label" style="color: #4e4b7c;">Spicy</label>
                                </div>
                            </div>

                            <div class="col-12 col-md-6 col-lg-4 mb-3">
                                <div class="form-check form-switch">
                                    <input type="checkbox" id="id_is_popular" name="is_popular" class="form-check-input" {% if form.is_popular.value %}checked{% endif %}>
                                    <label for="id_is_popular" class="form-check-label" style="color: #4e4b7c;">Popular</label>
                                </div>
                            </div>

                            <div class="col-12 col-md-6 col-lg-4 mb-3">
                                <div class="form-check form-switch">
                                    <input type="checkbox" id="id_is_jain_option" name="is_jain_option" class="form-check-input" {% if form.is_jain_option.value %}checked{% endif %}>
                                    <label for="id_is_jain_option" class="form-check-label" style="color: #4e4b7c;">Jain Option</label>
                                </div>
                            </div>

                            <div class="col-12 col-md-6 col-lg-4 mb-3">
                                <div class="form-check form-switch">
                                    <input type="checkbox" id="id_is_vegan" name="is_vegan" class="form-check-input" {% if form.is_vegan.value %}checked{% endif %}>
                                    <label for="id_is_vegan" class="form-check-label" style="color: #4e4b7c;">Vegan</label>
                                </div>
                            </div>

                            <div class="col-12 col-md-6 col-lg-4 mb-3">
                                <div class="form-check form-switch">
                                    <input type="checkbox" id="id_is_non_veg" name="is_non_veg" class="form-check-input" {% if form.is_non_veg.value %}checked{% endif %}>
                                    <label for="id_is_non_veg" class="form-check-label" style="color: #4e4b7c;">Non-Veg</label>
                                </div>
                            </div>

                            <div class="col-12 col-md-6 col-lg-4 mb-3">
                                <div class="form-check form-switch">
                                    <input type="checkbox" id="id_is_pure_veg" name="is_pure_veg" class="form-check-input" {% if form.is_pure_veg.value %}checked{% endif %}>
                                    <label for="id_is_pure_veg" class="form-check-label" style="color: #4e4b7c;">Pure Veg</label>
                                </div>
                            </div>

                            <div class="col-12 col-md-6 col-lg-4 mb-3">
                                <div class="form-check form-switch">
                                    <input type="checkbox" id="id_is_chefs_special" name="is_chefs_special" class="form-check-input" {% if form.is_chefs_special.value %}checked{% endif %}>
                                    <label for="id_is_chefs_special" class="form-check-label" style="color: #4e4b7c;">Chef's Special</label>
                                </div>
                            </div>

                            <div class="col-12 col-md-6 col-lg-4 mb-3">
                                <div class="form-check form-switch">
                                    <input type="checkbox" id="id_is_soup" name="is_soup" class="form-check-input" {% if form.is_soup.value %}checked{% endif %}>
                                    <label for="id_is_soup" class="form-check-label" style="color: #4e4b7c;">Soup</label>
                                </div>
                            </div>

                            <div class="col-12 col-md-6 col-lg-4 mb-3">
                                <div class="form-check form-switch">
                                    <input type="checkbox" id="id_is_available" name="is_available" class="form-check-input" {% if form.is_available.value %}checked{% endif %}>
                                    <label for="id_is_available" class="form-check-label" style="color: #4e4b7c;">Available</label>
                                </div>
                            </div>
                        </div>


                        <button type="submit" class="btn" style="background-color: #7872dd; color: white; width: 100%;">Save Changes</button>

                        
                    </form>
                </div>
            </div>

        </div>
    </div>
</div>

<style>
    body {
        background-color: #f7f7f7;
    }

    .card {
        border-radius: 15px;
    }

    .btn {
        border: none;
    }

    .btn:hover {
        opacity: 0.9;
    }

    h2, h4 {
        font-family: 'Roboto', sans-serif;
        font-weight: 700;
        color: #4e4b7c;
    }

    label {
        font-family: 'Open Sans', sans-serif;
        font-weight: 600;
    }

    .form-check-label {
        font-family: 'Open Sans', sans-serif;
        font-weight: 500;
        color: #4e4b7c;
    }

    img.img-thumbnail {
        display: block;
        margin: 0 auto;
        border-radius: 10px;
    }
</style>
{% endblock %}
